syntax = "proto3";

package users;
option go_package = "mini-marketplace/proto/users";

service UsersService {
    rpc CreateUser(CreateUserRequest) returns (CreateUserResponse);

    rpc GetMyProfile(GetMyProfileRequest) returns (GetMyProfileResponse);
    
    rpc ValidateUser (ValidateUserRequest) returns (ValidateUserResponse);

    rpc Login (LoginRequest) returns (LoginResponse);
}

message CreateUserRequest {
    string id = 1;
    string name = 2;
    string email = 3;
    string password = 4;
}

message CreateUserResponse {
    User user = 1;
}

message GetMyProfileRequest {
    string id = 1;
}

message GetMyProfileResponse {
    User user = 1;
}

message ValidateUserRequest { 
    string user_id = 1; 
}

message ValidateUserResponse { 
    bool valid = 1; 
    string name = 2; 
    bool is_admin = 3;
}

message LoginRequest {
    string user_id = 1;
    string password = 2; 
}

message LoginResponse {
    bool success = 1;
    string message = 2;
    User user = 3;
}

message User {
    string id = 1;
    string name = 2;
    string email = 3;
    bool is_admin = 4;
}